<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Mercado</title>
  <style>
    :root { --red:#b00000; --dark:#0b0b0b; --mid:#141414; --line:#2a2a2a; --text:#eaeaea; }
    * { box-sizing:border-box; }
    body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; background:var(--dark); color:var(--text); margin:0; }
    header { padding:28px 16px; text-align:center; border-bottom:1px solid var(--line); }
    header h1 { margin:0; letter-spacing:1px; color:var(--red); }
    main { max-width:720px; margin:0 auto; padding:24px 16px; }
    .section { margin-bottom:28px; }
    .section h2 { margin:0 0 12px; color:#fff; border-left:4px solid var(--red); padding-left:10px; }
    .card { background:var(--mid); border:1px solid var(--line); border-radius:10px; padding:16px; }
    .stack { display:grid; gap:12px; }
    .btn { background:transparent; color:#fff; border:1px solid var(--red); padding:12px 14px; border-radius:8px; cursor:pointer; width:100%; }
    .btn.primary { background:var(--red); }
    .btn:hover { filter:brightness(1.05); }
    input, textarea { background:#0e0e0e; color:#fff; border:1px solid var(--line); padding:12px; border-radius:6px; width:100%; }
    footer { text-align:center; padding:18px; border-top:1px solid var(--line); color:#aaa; font-size:12px; }
    .hidden { display:none; }
    .pill { display:inline-block; padding:6px 10px; border:1px solid var(--line); border-radius:999px; color:#ddd; }
      .option { display:flex; flex-direction:column; align-items:center; gap:12px; cursor:pointer; transition: transform .25s ease, box-shadow .25s ease; }
    .option img { width:140px; height:auto; filter: drop-shadow(0 6px 12px rgba(0,0,0,.35)); transition: transform .25s ease, filter .25s ease; }
    .option span { font-weight:600; letter-spacing:.5px; }
    .option:hover { transform: translateY(-4px); box-shadow: 0 10px 30px rgba(176,0,0,.25); }
    .option:hover img { transform: scale(1.05); filter: drop-shadow(0 10px 22px rgba(176,0,0,.45)); }
  </style>
</head>
<body>
  <header>
    <h1>Mercado</h1>
  </header>

  <main>
    <!-- Paso 1: Elegir producto -->
    <!-- Paso 1: Elegir producto -->
    <section class="section" id="step-1">
      <h2>Elegí una opción</h2>
      <div class="stack">
        <div class="card option" onclick="choose('Cocaína')">
          <img src="cocaina.png" alt="Cocaína" />
          <span>Cocaína</span>
        </div>
        <div class="card option" onclick="choose('Marihuana')">
          <img src="marihuana.png" alt="Marihuana" />
          <span>Marihuana</span>
        </div>
      </div>
    </section>

    <!-- Paso 2: Datos -->
    <section class="section hidden" id="step-2">
      <h2>Datos del pedido</h2>
      <div class="card stack">
        <div class="pill" id="chosen"></div>
        <input id="alias" placeholder="Alias" required />
        <input id="direccion" placeholder="Dirección" required />
        <input id="zona" placeholder="Zona" required />
        <textarea id="referencias" placeholder="Referencias" rows="3"></textarea>
        <button class="btn primary" onclick="submitOrder()">Enviar</button>
        <p id="result"></p>
      </div>
    </section>

    <!-- Panel interno -->
    <section class="section" id="admin">
      <h2>Panel interno</h2>
      <div class="stack">
        <button class="btn" onclick="loadOrders()">Ver pedidos</button>
        <button class="btn" onclick="clearOrders()">Limpiar</button>
        <div id="orders" class="stack"></div>
      </div>
    </section>
  </main>

  <footer>
    <p>Sitio de ficción. No hay transacciones reales.</p>
  </footer>

  <script>
    let selected = '';
    function choose(name) {
      selected = name;
      document.getElementById('chosen').textContent = name;
      document.getElementById('step-1').classList.add('hidden');
      document.getElementById('step-2').classList.remove('hidden');
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }
    function getOrders() { return JSON.parse(localStorage.getItem('orders') || '[]'); }
    function saveOrders(o) { localStorage.setItem('orders', JSON.stringify(o)); }
    function submitOrder() {
      const order = {
        item: selected,
        alias: document.getElementById('alias').value,
        direccion: document.getElementById('direccion').value,
        zona: document.getElementById('zona').value,
        referencias: document.getElementById('referencias').value,
        ciudad: 'Los Santos',
        time: new Date().toLocaleString()
      };
      const o = getOrders(); o.push(order); saveOrders(o);
      document.getElementById('result').textContent = 'Pedido enviado.';
      document.getElementById('alias').value='';
      document.getElementById('direccion').value='';
      document.getElementById('zona').value='';
      document.getElementById('referencias').value='';
    }
    function loadOrders() {
      const wrap = document.getElementById('orders'); wrap.innerHTML='';
      const o = getOrders(); if(!o.length){ wrap.innerHTML='<div class="card">Sin pedidos</div>'; return; }
      o.forEach((x,i)=>{
        const d=document.createElement('div'); d.className='card';
        d.innerHTML = `<strong>#${i+1}</strong><br>${x.item}<br>${x.alias}<br>${x.direccion} - ${x.zona}<br>${x.referencias||'-'}<br><small>${x.ciudad} · ${x.time}</small>`;
        wrap.appendChild(d);
      });
    }
    function clearOrders(){ localStorage.removeItem('orders'); loadOrders(); }
  </script>
</body>
</html>
